// Generated by CoffeeScript 1.10.0
(function() {
  var app;

  app = angular.module('bingo', ['ngRoute']);

  app.config([
    '$routeProvider', function($routeProvider) {
      return $routeProvider.when('/', {
        templateUrl: 'top',
        controller: 'topController'
      }).when('/app', {
        templateUrl: 'app',
        controller: 'Index'
      }).otherwise({
        redirectTo: '/'
      });
    }
  ]);

  app.controller('Index', [
    '$scope', '$http', function($s, $h) {
      $s.init = function() {};
      $s.search = function() {
        console.log("search");
        $s.isSearch = true;
        $s.searchData = $s.text.split(',');
        console.log($s.searchData);
        return $h.get('/bingo', {
          params: {
            'n[]': $s.searchData
          }
        }).then(function(res) {
          $s.result = res.data;
          return $s.isSearch = false;
        });
      };
      $s.viewBingo = function(card_id) {
        return $h.get('/bingo/' + card_id).then(function(res) {
          return $s.selectBingo = res.data;
        });
      };
      return $s.cc = function(number) {
        console.log(number);
        return number === 0 || $s.searchData.indexOf(number + "") !== -1;
      };
    }
  ]);

  app.controller('topController', ['$scope', function($s) {}]);

}).call(this);
